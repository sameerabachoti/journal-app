{"ast":null,"code":"var _jsxFileName = \"/Users/sameera/Documents/journalApp/app/src/NewEntry.js\";\nimport React from 'react';\nimport { Button, Container, Form, FormGroup, Input, Label } from 'reactstrap';\nimport { withRouter } from 'react-router-dom';\n\nclass NewEntry extends React.Component {\n  constructor(props) {\n    super(props);\n    this.emptyEntry = {\n      id: '',\n      title: '',\n      content: '',\n      dateCreated: '',\n      dateModified: '',\n      category: {\n        name: ''\n      }\n    };\n    this.state = {\n      entry: this.emptyEntry\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  async componentDidMount() {\n    const entry = await (await fetch(`/api/entry/${this.props.match.params.id}`)).json();\n    console.log(\"entry component did mount\", this.props.match.params.id);\n    this.setState({\n      entry: {\n        id: this.props.match.params.id\n      }\n    });\n  }\n\n  async handleSubmit(event) {\n    event.preventDefault();\n    const {\n      entry\n    } = this.state;\n    await fetch('/api/entry', {\n      method: entry.id ? 'PUT' : 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(entry)\n    });\n    this.props.history.push('/');\n  }\n\n  handleChange(event) {\n    console.log(\"event \", event.target.value);\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    console.log(\"name \", name);\n    let entry = { ...this.state.entry\n    }; //let category = {...this.state.category};\n\n    entry[name] = value;\n\n    if (name == 'category') {\n      entry[name] = {\n        name: value\n      };\n    }\n\n    console.log(\"entry \", entry);\n    this.setState({\n      entry\n    });\n  }\n\n  render() {\n    const {\n      entry\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"title\",\n      id: \"title\",\n      value: entry.title || '',\n      onChange: this.handleChange,\n      autoComplete: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    }, \"Category\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      name: \"category\",\n      id: \"category\",\n      value: entry.category.name || '',\n      onChange: this.handleChange,\n      autoComplete: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }, \"Entry\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"textarea\",\n      name: \"content\",\n      id: \"content\",\n      value: entry.content || '',\n      onChange: this.handleChange,\n      autoComplete: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 15\n      }\n    }, \"Save\"), ' ', /*#__PURE__*/React.createElement(Button, {\n      color: \"secondary\",\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }, \"Cancel\"))));\n  }\n\n}\n\nexport default withRouter(NewEntry);","map":{"version":3,"sources":["/Users/sameera/Documents/journalApp/app/src/NewEntry.js"],"names":["React","Button","Container","Form","FormGroup","Input","Label","withRouter","NewEntry","Component","constructor","props","emptyEntry","id","title","content","dateCreated","dateModified","category","name","state","entry","handleChange","bind","handleSubmit","componentDidMount","fetch","match","params","json","console","log","setState","event","preventDefault","method","headers","body","JSON","stringify","history","push","target","value","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Button, Container, Form, FormGroup, Input, Label } from 'reactstrap';\nimport { withRouter } from 'react-router-dom';\n\nclass NewEntry extends React.Component {\n\t\n\temptyEntry = {\n\t\t    id: '',\n\t\t    title: '',\n\t\t    content: '',\n\t\t    dateCreated: '',\n\t\t    dateModified: '', \n\t\t    category: {name: ''}\n\t};\n\t\n\tconstructor(props) {\n\t    super(props);\n\t    this.state = {\n\t    \tentry: this.emptyEntry,\n\t    };\n\t    this.handleChange = this.handleChange.bind(this);\n\t    this.handleSubmit = this.handleSubmit.bind(this);\n\t}\n\t\n\tasync componentDidMount(){\n\t\tconst entry = await (await fetch(`/api/entry/${this.props.match.params.id}`)).json();\n\t\tconsole.log(\"entry component did mount\", this.props.match.params.id);\n\t\tthis.setState({entry: {id: this.props.match.params.id}});\n\t}\n\t\n\tasync handleSubmit(event) {\n\t    event.preventDefault();\n\t    const {entry} = this.state;\n\n\t    await fetch('/api/entry', {\n\t      method: (entry.id) ? 'PUT' : 'POST',\n\t      headers: {\n\t        'Accept': 'application/json',\n\t        'Content-Type': 'application/json'\n\t      },\n\t      body: JSON.stringify(entry),\n\t    });\n\t    this.props.history.push('/');\n\t }\n\t\n\thandleChange(event) {\n\t\tconsole.log(\"event \", event.target.value);\n\t\tconst target = event.target;\n\t    const value = target.value;\n\t    const name = target.name;\n\t    console.log(\"name \", name);\n\t    let entry = {...this.state.entry};\n\t    //let category = {...this.state.category};\n\t    entry[name] = value;\n\t    if(name=='category'){\n\t    \tentry[name] = {name: value}\n\t    }\n\t    console.log(\"entry \", entry);\n\t    this.setState({entry});\n\t}\n\t\n\trender() {\n\t\tconst {entry} = this.state;\n\t\treturn(\n\t\t\t\t<Container>\n\t\t        <Form onSubmit={this.handleSubmit}>\n\t\t          <FormGroup>\n\t\t            <Label for=\"title\">Title</Label>\n\t\t            <Input type=\"text\" name=\"title\" id=\"title\" value={entry.title || ''}\n\t\t                   onChange={this.handleChange} autoComplete=\"title\"/>\n\t\t          </FormGroup>\n\t\t          <FormGroup>\n\t\t            <Label for=\"category\">Category</Label>\n\t\t            <Input type=\"text\" name=\"category\" id=\"category\" value={entry.category.name || ''}\n\t\t                   onChange={this.handleChange} autoComplete=\"title\"/>\n\t\t          </FormGroup>\n\t\t          <FormGroup>\n\t\t            <Label for=\"content\">Entry</Label>\n\t\t            <Input type=\"textarea\" name=\"content\" id=\"content\" value={entry.content || ''}\n\t\t                   onChange={this.handleChange} autoComplete=\"content\"/>\n\t\t          </FormGroup>\n\t\t          <FormGroup>\n\t\t            <Button color=\"primary\" type=\"submit\">Save</Button>{' '}\n\t\t            <Button color=\"secondary\" to=\"/\">Cancel</Button>\n\t\t          </FormGroup>\n\t\t        </Form>\n\t\t      </Container>\n\t\t)\n\t}\n\t\n}\n\nexport default withRouter(NewEntry);"]},"metadata":{},"sourceType":"module"}